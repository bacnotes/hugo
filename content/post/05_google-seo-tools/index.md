---
title: 安裝SEO分析工具Google Analytics跟Google Search Console｜bacnotes備份筆記
description: 寫部落格文章總是希望被人家看到。想知道流量從哪裡來，進站後又逛了哪些頁面，從哪裡離開以及受眾輪廓的資料。要做好SEO搜尋引擎最佳化，你會需要Google提供的兩個免費強大工具Google Analytics(GA)跟Google Search Console(GSC)來幫助你。
date: 2021-12-28T00:00:00+08:00
slug: google-seo-tools
image: myriam-jessier-VCtI-0qlVgA-unsplash.jpg
tags:
    - Google Analytics
    - Google Search Console
    - SEO
---

## 什麼是Google Analytics & Google Search Console  

### Google Analytics：分析流量來源與站內行為表現
可以分析進站管道分布，預設管道有直接流量、自然搜尋、社群網站、其他網站連結過來的或是廣告等  
分析到達網頁(landing page)集中在哪些頁面     
知道使用者類型與進站後的使用者行為，像是停留時間，觀看了幾頁，跟離開頁面  
確認是否跟原本規劃的網站體驗流程相似，或是在哪些頁面容易流失客戶  
如果是電商網站的話，還可以設定電子商務觀看電子商務報表(轉換率/收益/客單價等)  
由於我們目前還只是單純的部落格，未來如果有機會的話再來介紹這塊    

### Google Search Console：分析自然搜尋流量與站外排名  
可以從成效報表觀察流量的變化，曝光 > 點擊 > 點閱率 > 排序  
分析有哪些關鍵字跟頁面帶來流量   
分析自然流量的來源是來自哪些地方  
可以定期提交sitemap幫助網址被收錄，或是移除想拿掉的網址（sitemap記得也要同步拿掉)  
確認網站還有哪一些待改進的體驗  

總之有非常多的報表可以看（咳咳  
那接下來我們就直接進到安裝的部分
## 安裝Google Analytics
1. 登入你要使用GA的Google帳號
2. 進到 https://analytics.google.com/
3. 填寫帳戶名稱，資料共用設定這部分可以自行判斷
4. 填寫資源名稱
5. 填寫商家資訊
6. 接受Google Analytics(分析)服務條款合約
7. 選擇平台(我是部落格所以選網頁)
8. 填寫網站串流網址跟名稱
9. 會得到一個評估ID  G-xxxxxxxx
10. 把評估ID貼到config檔案即可

Um...以前都是UA開頭的代碼，現在已經升級成Google Analytics 4的時代，開頭已經變成G了（感嘆一下時代的進步）    
當然舊版的代碼還是可以收集資料，只是GA4將跨裝置的使用者行為串接起來  
並且改以事件為核心的分析主體，相較過去的停留時間、頁數
對於數據的解讀方便許多  

使用GA4的即時報表確認資料是否已開始傳入

<img src="./livedemo.png" alt="realtime-report" width="500"/> 

或透過[GTM/GA debugger](https://chrome.google.com/webstore/detail/gtmga-debugger/ilnpmccnfdjdjjikgkefkcegefikecdc "GTM/GA debugger")套件確認是否有反應  

<img src="./GTMGA.png" alt="GTMGAdebugger" width="400"/> 

ok 看起來成功囉！記得也檢查一下404頁面有無反應唷！  

## 安裝Google search console
1. 建議使用跟GA一樣的Google帳號
2. 進到 https://search.google.com/search-console/welcome
3. 選取資源類型，若跟我一樣是使用GitHub pages服務選右邊
4. 填寫網址
5. 驗證方法很多，因為剛剛已經安裝好GA，帳號有編輯權，直接點第3種的GA驗證按鈕

ok 進到了資源頁面了！一般來說會需要等個1天時間跑資料

<img src="./GoogleSearchConsole_nodata.png" alt="GoogleSearchConsole" width="600"/> 

## 在網站根目錄下建立robots.txt
使用Hugo的話，在config檔裡面加入參數
```
enableRobotsTXT: true  
```
有加入enableRobotsTXT: true的話，執行完`hugo`指令後  
系統預設會幫你生成一個下方內容的robots.txt在根目錄下
```
User-agent: * 
```
如果想客製化內容，把robots.txt放在layouts資料夾下即可    
下方是一個常見的範例，網址填入自己的版本    
```
User-agent: * 
Allow: /  
Sitemap: https://bacnotes.github.io/sitemap.xml
```
如果想客製化哪些頁面可以爬取，哪些不給爬取的話可以參照[官方說明](https://gohugo.io/templates/robots/ "官方說明")設置

另外還可以在config檔案放上下方參數  
使用更新頻率monthly或weekly等，讓爬蟲知道你的更新狀況  
(可以使用這些參數yearly, monthly, weekly, daily, hourly)  
```
sitemap:
  changefreq: weekly
  filename: sitemap.xml
  priority: 0.5
```

## 到Google Search Console提交sitemap
使用hugo指令生成靜態網頁的時候會自動產出sitemap檔案  
網址是<你的網站名>/sitemap.xml e.g. https://bacnotes.github.io/sitemap.xml

可以到config檔案更新這些參數
https://gohugo.io/templates/sitemap-template/

提交位置在Google Search Console索引區塊的Sitemap  
輸入你的sitemap網址即可，一般是sitemap.xml  

<img src="./new-sitemap.png" alt="new-sitemap" width="500"/> 

然而如果跟我一樣使用Hugo的話，顯示結果可能會是為無法擷取，觀看其他人的文章發現  
[Google Search Console 無法擷取sitemap解決方法](https://kyiplay.com/2020/04/google-search-console-coudnt-fetch-sitemap/ "Google Search Console 無法擷取sitemap解決方法")  
[Sitemap generated by Hugo not recognized by Google Search Console](https://discourse.gohugo.io/t/sitemap-generated-by-hugo-not-recognized-by-google-search-console/18794 "Sitemap generated by Hugo not recognized by Google Search Console")  
需要約一週的時間等待，許多人反饋應該是google的問題，因為嘗試提交到其他搜尋引擎是正常的  
我們一週再回來看看sitemap是否有成功  

雖然sitemap擷取上好像卡住了，不過在文章數相對少的狀況下  
還有一種方式可以呼叫爬蟲來爬取這些頁面  

## 使用Google Search Console的「要求建立索引」  
發布文章後，會希望可以盡早被爬蟲爬取建立索引  
因為我的部落格是自架的，可以自行處理產出更新的sitemap檔並提交給Google   
但如果是公司的行銷人員，可能不一定可以迅速取得工程師的即時協助  
這時候可以點Google Search Console上方的輸入框，輸入文章網址，按下enter  
(也可以點側邊欄成效下方的網址審查，也會focus到這個框框)

<img src="./search.png" alt="search" width="500"/> 

等待一段時間跑出結果

<img src="./not-in-service.png" alt="not-in-servic" width="500"/> 


點下方的「要求建立索引」，就會跟Google提交建立索引的要求且進入排程  
爬蟲就會依照排程順序來看你剛剛提交的網址了

## 跟Google提交Sitemap完之後，其他的搜尋引擎也需要嗎？  
我們用[Statcounter](https://gs.statcounter.com/ "Statcounter")看看目前搜尋引擎各家的市佔率  
Statcounter是一個網站流量分析工具，主要提供網頁瀏覽器跟搜尋引擎的使用分佈的訊息

以下是上個月各家搜尋引擎全球市占率，Google有91.4%的市佔率，而其他家(bing, Baidu, Yahoo!)市占率大約都在個位數  

<img src="./worldwide-search-engine-share.png" alt="worldwide-search-engine-share" width="500"/> 

由於我們的使用者主要是在台灣，把條件設定成台灣

<img src="./stat-counter.png" alt="taiwan-search-engine-share" width="500"/> 

Google還是一樣市占率最高，且比剛剛全球數據的市佔率還高，為9成4  
看起來我們之後SEO還是專心於Google，畢竟台灣大部分的使用者都使用Google搜尋

最後，爬蟲大大快來我家吧

<img src="./cat-meme.gif" alt="cat-meme" width="400"/>